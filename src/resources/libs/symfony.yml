parameters:
    model_bundle: ModelBundle
    symfony_container: php
    symfony_user: www-data
commands:
    sf:
        type: docker
        script:
            - view://WARNING - DEPRECATED
            - null://Integrated libraries have been moved from "vendor/worldfactory/qq/src/resources/lib" to "vendor/worldfactory/qq/resources/lib". From version 2.0, they will become unavailable from the previous path.
            - php bin/console %_all%
        target: "%symfony_container%"
        user: "%symfony_user%"
        shortDescription: Lance la console Symfony avec les paramètres fournis.

    "entity:map":
        type: docker
        script:
            - view://WARNING - DEPRECATED
            - null://Integrated libraries have been moved from "vendor/worldfactory/qq/src/resources/lib" to "vendor/worldfactory/qq/resources/lib". From version 2.0, they will become unavailable from the previous path.
            - php bin/console doctrine:mapping:import %model_bundle% yml --force --filter %_all%
        target: "%symfony_container%"
        user: "%symfony_user%"
        shortDescription: Génère le mapping de la ou des tables spécifiées. Le nom de la table doit être indiqué en CamelCase. Ne prends en compte que les entités du Bundle %model_bundle%.

    "entity:generate":
        type: docker
        script:
            - view://WARNING - DEPRECATED
            - null://Integrated libraries have been moved from "vendor/worldfactory/qq/src/resources/lib" to "vendor/worldfactory/qq/resources/lib". From version 2.0, they will become unavailable from the previous path.
            - php bin/console doctrine:generate:entities --path=src/ --no-backup %_all%
        target: "%symfony_container%"
        user: "%symfony_user%"
        shortDescription: "Génère l'entité spécifiée. Necessite le nom court de l'entité. ex : ModelBundle:MyEntity"

    "cache:clear":
        type: docker
        script:
            - view://WARNING - DEPRECATED
            - null://Integrated libraries have been moved from "vendor/worldfactory/qq/src/resources/lib" to "vendor/worldfactory/qq/resources/lib". From version 2.0, they will become unavailable from the previous path.
            - rm -rf var/cache
        target: "%symfony_container%"
        user: "%symfony_user%"
        shortDescription: Vide le cache de symfony.
        aliases: ["cc"]

    "cache:reset":
        type: docker
        script:
            - view://WARNING - DEPRECATED
            - null://Integrated libraries have been moved from "vendor/worldfactory/qq/src/resources/lib" to "vendor/worldfactory/qq/resources/lib". From version 2.0, they will become unavailable from the previous path.
            - php bin/console cache:clear %_all%
        target: "%symfony_container%"
        user: "%symfony_user%"
        shortDescription: Réinitialise le cache de symfony.
        aliases: ["cr"]
